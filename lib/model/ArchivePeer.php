<?php

# require 'lib/model/om/BaseArchivePeer.php';


/**
 * Skeleton subclass for performing query and update operations on the 'archive' table.
 *
 * 
 *
 * This class was autogenerated by Propel 1.4.0 on:
 *
 * Wed Feb  3 19:07:27 2010
 *
 * You should add additional methods to this class to meet the
 * application requirements.  This class will only be generated as
 * long as it does not already exist in the output directory.
 *
 * @package    lib.model
 */
class ArchivePeer extends BaseArchivePeer {
  
  const
    HIGH_QUALITY_ARCHIVE=1,
    LOW_QUALITY_ARCHIVE=2;
    
  static public function getMaxByType($type)
  {
    
    $con = Propel::getConnection(self::DATABASE_NAME);
    $sql = 'SELECT MAX('.self::POSITION.') AS max FROM '.self::TABLE_NAME. ' WHERE '. self::ARCHIVE_TYPE . '='. $type; 
    $stmt = $con->prepare($sql);
    $stmt->execute();

    $row = $stmt->fetch();
    return $row['max'];

  }
  
  public static function getTypeDescription($type)
  {
    $descriptions=array(
      1=>'high',
      2=>'low',
      );
    return $descriptions[$type];
  }

} // ArchivePeer
