propel:

  sf_guard_user_profile:
    _attributes:  { phpName: sfGuardUserProfile }
    user_id:      { type: integer, foreignTable: sf_guard_user, foreignReference: id, required: true, onUpdate: cascade, onDelete: cascade, primaryKey: true }
    first_name:   varchar(50)
    last_name:   varchar(50)

  asset_type:
    id: ~ 
    name: { type: varchar(255), required: true, index: unique }
    attributes: longvarchar

  asset:
    id: ~
    slug: { type: varchar(50), required: true, index: unique }
    asset_type_id: ~
    assigned_title: varchar(255)
    category_id: { type: varchar(5), foreignTable: category, foreignReference: id }
    notes: longvarchar
    frames_count: integer
    source_filename: varchar(255)
    source_file_date: date
    highquality_width: integer
    highquality_height: integer
    highquality_video_codec: varchar(10)
    highquality_audio_codec: varchar(10)
    highquality_frame_rate: integer
    highquality_md5sum: varchar(32)
    lowquality_width: integer
    lowquality_height: integer
    lowquality_video_codec: varchar(10)
    lowquality_audio_codec: varchar(10)
    lowquality_frame_rate: integer
    lowquality_md5sum: varchar(32)
    user_id:  { type: integer, foreignTable: sf_guard_user_profile, foreignReference: user_id, required: true, onUpdate: cascade, onDelete: cascade}
    created_at: ~
    updated_at: ~

  archive:
    id:  ~
    slug: varchar(50)
    created_at: ~

  category:
    id: { type: varchar(5), primaryKey: true }
    name: varchar(50)

  access_log:
    id: ~  
    asset_id:  ~
    user_id:      { type: integer, foreignTable: sf_guard_user_profile, foreignReference: user_id, required: true, onUpdate: cascade, onDelete: restrict }
    created_at: ~

  task_log:
    id: ~
    task_type: integer
    created_at: ~
    updated_at: ~

#  The following are just for tests, we'll remove them
  picture:
    id: ~
    path: varchar(255)

  description:
    id: ~
    picture_id: ~
    text: varchar(255)

